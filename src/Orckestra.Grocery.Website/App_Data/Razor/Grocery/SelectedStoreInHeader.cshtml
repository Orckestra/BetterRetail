@inherits Composer.Razor.ComposerRazorFunction
@functions {
    public override string FunctionDescription
    {
        get { return "Selected Store In Header"; }
    }
}

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://www.composite.net/ns/function/1.0"
      xmlns:v-bind="v-bind" xmlns:v-on="v-on">
<head>
</head>
<body>
    <div id="vueSelectedStoreInHeader" 
         data-oc-controller="Grocery.SelectedStoreInHeader"
         v-cloak="v-cloak" class="pull-left">
        <ul class="navbar-nav p-0">
            <li class="nav-item" v-if="!Store">
                @if (CurrentPageNode.Id != HomePageNode.Id)
                {
                    <a class="nav-link" href="#" v-on:click.prevent="changeStoreModal($event, 'store')">
                        @StoreHelpers.StoreIcon()
                    </a>
                }
                else
                {
                    <a class="nav-link" href="#" v-on:click.prevent="navigateToStoreSelector">
                        @StoreHelpers.StoreIcon()
                    </a>
                }
            </li>
            <li class="nav-item dropdown" v-else="v-else">
                <a id="selectedStoreHeaderMenuLink" class="nav-link" href="#" data-toggle="dropdown"
                   role="button" aria-haspopup="true" aria-expanded="false" aria-controls="selectedStoreHeaderDropdown">
                    @StoreHelpers.StoreIcon()
                </a>
                <div id="selectedStoreHeaderDropdown" class="dropdown-menu selected-store-header p-3"
                     aria-labelledby="selectedStoreHeaderMenuLink">
                    @Forms.Validations.ShowError("Errors.TimeSlotSelectionError")
                    <div v-if="Store">
                        @StoreHelpers.SelectedFulfillmentMethod()
                        @StoreHelpers.SelectedStorePreview("SelectedFulfillment")
                        <hr />
                        @StoreHelpers.SelectedTimeSlotPreview("SelectedFulfillment")
                    </div>
                </div>
            </li>
        </ul>
    </div>
</body>
</html>